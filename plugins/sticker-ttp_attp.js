import _0x11d282 from'node-fetch';import{sticker,addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';const handler=async(_0x16e1b1,{conn:_0x1400b3,text:_0x2bc3b5,args:_0x1dc816,usedPrefix:_0x1dd09d,command:_0x32287e})=>{if(!_0x2bc3b5)throw'*[❗]\x20𝙸𝙽𝙶𝚁𝙴𝚂𝙴\x20𝚄𝙽\x20𝚃𝙴𝚇𝚃𝙾*\x0a\x0a*𝙴𝙹𝙴𝙼𝙿𝙻𝙾:*\x0a*'+(_0x1dd09d+_0x32287e)+'*\x20ʜᴀᴅᴇs\x20ʙᴏᴛ\x20ᴏᴍᴇɢᴀ';const _0x1bb5a0=encodeURI(_0x2bc3b5);if(_0x32287e=='attp'){const _0x25bf5b=await(await _0x11d282('https://api.erdwpe.com/api/maker/attp?text='+_0x1bb5a0))['buffer'](),_0x3e4251=await createSticker(_0x25bf5b,![],global['packname'],global['author']);_0x1400b3['sendFile'](_0x16e1b1['chat'],_0x3e4251,'sticker.webp','',_0x16e1b1,{'asSticker':!![]});}_0x32287e=='attp2'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/attp?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='attp3'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/attp2?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='ttp5'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/ttp6?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='ttp4'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/ttp5?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='ttp3'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/ttp3?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='ttp2'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/ttp2?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]}),_0x32287e=='ttp'&&_0x1400b3['sendFile'](_0x16e1b1['chat'],'https://api.lolhuman.xyz/api/ttp?apikey='+lolkeysapi+'&text='+_0x1bb5a0,'sticker.webp','',_0x16e1b1,{'asSticker':!![]});};handler['command']=handler['help']=['ttp','ttp2','ttp3','ttp4','ttp5','attp','attp2','attp3'],handler['tags']=['sticker'];export default handler;async function createSticker(_0x31eaae,_0x446a52,_0x196f90,_0x31f4ed,_0x40d6c1){const _0x1a62af={'type':'full','pack':_0x196f90,'author':_0x31f4ed,'quality':_0x40d6c1};return new Sticker(_0x31eaae?_0x31eaae:_0x446a52,_0x1a62af)['toBuffer']();}async function mp4ToWebp(_0x33947c,_0x5f2f4d){if(_0x5f2f4d){if(!_0x5f2f4d['pack'])_0x5f2f4d['pack']='‎';if(!_0x5f2f4d['author'])_0x5f2f4d['author']='‎';if(!_0x5f2f4d['crop'])_0x5f2f4d['crop']=![];}else!_0x5f2f4d&&(_0x5f2f4d={'pack':'‎','author':'‎','crop':![]});const _0x514ed6=_0x33947c['toString']('base64'),_0x4996fa={'file':'data:video/mp4;base64,'+_0x514ed6,'processOptions':{'crop':_0x5f2f4d?.['crop'],'startTime':'00:00:00.0','endTime':'00:00:7.0','loop':0x0},'stickerMetadata':{..._0x5f2f4d},'sessionInfo':{'WA_VERSION':'2.2106.5','PAGE_UA':'WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','WA_AUTOMATE_VERSION':'3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','BROWSER_VERSION':'HeadlessChrome/88.0.4324.190','OS':'Windows\x20Server\x202016','START_TS':0x177dc64c025,'NUM':'6247','LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':'2.20.205.16'},'config':{'sessionId':'session','headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':['--no-sandbox','--disable-setuid-sandbox','--aggressive-cache-discard','--disable-cache','--disable-application-cache','--disable-offline-load-stale-cache','--disk-cache-size=0'],'executablePath':'C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}},_0x5e5e4a=await _0x11d282('https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl',{'method':'post','headers':{'Accept':'application/json,\x20text/plain,\x20/','Content-Type':'application/json;charset=utf-8'},'body':JSON['stringify'](_0x4996fa)});return Buffer['from']((await _0x5e5e4a['text']())['split'](';base64,')[0x1],'base64');}
